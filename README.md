# Big Data Review

### 1. 数据库的三大范式 - 范式越高数据库冗余越小
	a. 1nf （确保每列保持原子性）
		数据库表中的所有字段值都是不可拆分的原子值
		比如：地址 -> 城市+街道，如果经常用城市就应该拆分，方便
	b. 2nf（表中的每列都和主键相关）
		在一个数据库表中，一个表只能保存一种数据，不可以把多种数据保存在同一数据表中
		比如：商品信息表+订单信息表（如果放在一起，商品价格只与商品编号直接相关）
	c. 3nf（确保每列都和主键直接相关，而不是间接相关）
		比如：订单数据表，可以加入客户编号，但是不能把客户的其他信息也加入表中应该创建客户表，减少冗余

### 2. precision & recall
	a. 准确率precision：预测结果为真中，真实为正所占的比率
	b. 召回率recall：真实结果为真中，预测为真所占的比率

### 3. 主键和唯一索引的区别
	a. 主键是一种约束，唯一索引是一种索引
	b. 主键在创建时，默认非空+唯一索引
	c. 主键创建之后一定包含一个唯一索引，唯一索引不一定就是主键
	d. 主键不允许空值，唯一索引列允许空值
	e. 主键可以被其他表引用为外键，而唯一索引不行
	f. 一个表最多只能创建一个主键，但可以创建多个唯一索引


			
### 4. 事务的四大特性/隔离级别
	* 事务是用户定义的一个数据库操作序列
	* 这些操作要么全做要么全不做，是一个不可分割的工作单位
	
	* 如果一个数据库声称支持事务的操作，那么该数据库必须要具备以下四个特性ACID：
	a. 原子性（Atomicity）: 事务包含的所有操作要么全部成功，要么全部失败回滚，
	b. 一致性（Consistency）:事务执行之前和执行之后都必须处于一致性状态。(eg: 转账，总额不变)
	c. 隔离性（Isolation）: 当多个用户并发访问数据库时，比如操作同一张表时，数据库为每一个用户开启的事务，不能被其他事务的操作所干扰，多个并发事务之间要相互隔离。
	   即：对于任意两个并发的事务T1和T2，在事务T1看来，T2要么在T1开始之前就已经结束，要么在T1结束之后才开始，这样每个事务都感觉不到有其他事务在并发地执行。
	d. 持久性（Durability）: 事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，即便是在数据库系统遇到故障的情况下也不会丢失提交事务的操作
	
	* 无隔离产生的问题：
	a. 更新丢失: 两个事务同时更新一条数据
	b. 脏读: 在一个事务处理过程里读取了另一个未提交的事务中的数据。
	c. 不可重复读: 同一个事务对同一行数据重读读取两次,都得到了不同的结果
	
### 5. Hive内部表和外部表的区别?
    a. 内部表数据由Hive自身管理，外部表数据由HDFS管理；
    b. 内部表数据存储的位置是hive.metastore.warehouse.dir（默认：/user/hive/warehouse）
       外部表数据的存储位置由自己制定（如果没有LOCATION，Hive将在HDFS上的/user/hive/warehouse文件夹下以外部表的表名创建一个文件夹，并将属于这个表的数据存放在这里）；
    c. 删除内部表会直接删除元数据（metadata）及存储数据；删除外部表仅仅会删除元数据，HDFS上的文件并不会被删除；
    d. 对内部表的修改会将修改直接同步给元数据，而对外部表的表结构和分区进行修改，则需要修复（MSCK REPAIR TABLE table_name;）
